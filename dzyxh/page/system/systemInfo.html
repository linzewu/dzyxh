
<script type="text/javascript">
var baseParamManager = gridUtil.createNew("#datagrid-baseparam", {"url":"baseparam",idField:"id"});
</script>
<div class="easyui-tabs" data-options="fit:true">
	<div data-options="title:'数据字典'">
		<form  id="form-baseparam">
			<table class="base_table" cellspacing="0" cellpadding="0">
				<tr>
					<td class="info_title">字典类型：</td>
					<td class="info">
						<input name="type" class="easyui-validatebox">
					</td>
					<td class="info_title">字典名称：</td>
					<td class="info">
						<input name="paramName" class="easyui-validatebox">
					</td>
				</tr>
				<tr>
					<td class="info_title">字典值：</td>
					<td class="info">
						<input name="paramValue" class="easyui-validatebox">
					</td>
					<td class="info_title">排序</td>
					<td class="info">
						<input name="seq" class="easyui-validatebox">
					</td>
				</tr>
				<tr>
					<td class="info_title">备注：</td>
					<td class="info2" colspan="3">
						<input name="memo" class="easyui-validatebox">
						<a class="easyui-linkbutton c4" style="width:80px; margin-left: 20px;"  href="javaScript:void(0)">保存</a>
					</td>
				</tr>
			</table>
			<input name="id" type="hidden">
		</form>
		
		<div class="center-div">
			<table id="datagrid-baseparam" title="数据字典" class="easyui-datagrid" style="width:100%;height:280px"
	            toolbar="#datagrid-baseparam-toolbar" pagination="true" url=""
	            rownumbers="true"  singleSelect="true">
	        <thead>
	            <tr>
	                <th  width="150px" data-options="field:'type',editor:'text'" >字典类型</th>
	                <th  width="150px" data-options="field:'paramName',editor:'text'">字典名称</th>
	                <th  width="150px" data-options="field:'paramValue',editor:'text'">字典值</th>
	                <th  width="150px" data-options="field:'seq',editor:'text'">排序</th>
	                <th  width="200px" data-options="field:'memo',editor:'text'">备注</th> 
	            </tr>
	        </thead>
	    </table>
	    <div id="datagrid-baseparam-toolbar">
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="baseParamManager.append()">新增字典</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="baseParamManager.editData()">修改字典</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-save" plain="true" onclick="baseParamManager.accept()">保存</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" plain="true" onclick="baseParamManager.reject()">取消编辑</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="baseParamManager.remove()">删除字典</a>
	    </div>
	</div>
	</div>
	<div data-options="title:'服务器信息'">
		<form  id="formComputerInfo">
			<table class="base_table" cellspacing="0" cellpadding="0">
				<tr>
					<td class="info_title">操作系统：</td>
					<td class="info">
						<input name="czxt" class="easyui-validatebox readonly" readonly="readonly">
					</td>
					<td class="info_title">cpu个数：</td>
					<td class="info">
						<input name="cpugs" class="easyui-validatebox readonly" readonly="readonly">
					</td>
				</tr>
				<tr>
					<td class="info_title">操作系统名称：</td>
					<td class="info">
						<input name="czxtmc" class="easyui-validatebox readonly" readonly="readonly">
					</td>
					<td class="info_title">操作系统架构：</td>
					<td class="info">
						<input name="czxtjg" class="easyui-validatebox readonly" readonly="readonly">
					</td>
				</tr>
				<tr>
					<td class="info_title">ip及maca地址：</td>
					<td class="info2" colspan="3">
						<input name="ipmac" class="easyui-validatebox readonly" readonly="readonly" type="hidden">
						<label id="lab_ipmac"></label>
					</td>
				</tr>
			</table>
		</form>
	</div>
	<div data-options="title:'授权信息'"></div>
</div>

<script type="text/javascript">
	$(function(){
		loadComputer();
	});

	function loadComputer(){
		$.messager.progress({
			title:"提示",
			msg:"数据保存中..."
		});
		
		$.post("bps/getComputerInfo",{},function(data){
			if(data.state=="1"){
				$("#formComputerInfo").form("load",data.data);
				
				var ipms = data.data.ipmac.split(";");
				
				var context="";
				
				$.each(ipms,function(i,n){
					if(n==""){
						return;
					}
					var temp=n.split(",");
					var ip=temp[0];
					var mac=temp[1];
					context+="IP 地址："+ip +"&nbsp;&nbsp;&nbsp;&nbsp;";
					context+="MAC 地址："+ip +"<br/>";
				});
				
				$("#lab_ipmac").html(context);
			}
			
		}).error(function(){
			$.messager.alert("错误","查询错误","error");
		}).complete(function() {
			$.messager.progress("close");
		});
	}
</script>